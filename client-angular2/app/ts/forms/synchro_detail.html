<div class="panel panel-primary">
    <div class="panel-heading">Détail d'une synchronisation : {{name?.value}}</div>

    <div class="panel-body">
        <div class="alert alert-warning" *ngIf="isHttpRequest">
            Sauvegarde en cours
        </div>

        <alert *ngFor="let alert of alerts;let i = index" [type]="alert.type" dismissible="true" (close)="closeAlert(i)" dismissOnTimeout="5000">
            {{ alert?.msg }}
        </alert>

        <form class="form-horizontal" (ngSubmit)="createSynchro(synchroForm.value)" [ngFormModel]="synchroForm">
            <div class="form-group">
                <label for="nameId" class="col-sm-2 control-label">Nom</label>
                <div class="col-sm-10" [ngClass]="{'has-error' : !synchroForm.find('name').valid}"
                    >
                    <input type="text" class="form-control" ngControl="name" id="nameId"
                           placeholder="Nom de la synchronisation" [ngModel]="model.name"
                           #name="ngForm" >
                    <div *ngIf="!synchroForm.find('name').valid" class="text-danger">* Obligatoire</div>
                </div>
            </div>
            <div class="form-group">
                <label for="cronExp" class="col-sm-2 control-label">Exécution</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" ngControl="cronExp" [ngModel]="model.cronExp" id="cronExp" placeholder="Quartz expression">
                </div>
            </div>
            <div class="form-group">
                <label for="masterDir" class="col-sm-2 control-label">Répertoire maître </label>
                <div class="col-sm-10" [ngClass]="{'has-error' : !synchroForm.find('masterDir').valid}">
                    <input type="text" class="form-control" ngControl="masterDir" [ngModel]="model.masterDir" id="masterDir"
                           placeholder="Répertoire maître"
                    >
                    <div *ngIf="!synchroForm.find('masterDir').valid" class="text-danger">* Obligatoire</div>
                </div>
            </div>
            <div class="form-group">
                <label for="slaveDir" class="col-sm-2 control-label">Répertoire esclave</label>
                <div class="col-sm-10" [ngClass]="{'has-error' : !synchroForm.find('slaveDir').valid}">
                    <input type="text" class="form-control" id="slaveDir" ngControl="slaveDir" [ngModel]="model.slaveDir"
                           placeholder="Répertoire esclave"
                    >
                    <div *ngIf="!synchroForm.find('slaveDir').valid" class="text-danger">* Obligatoire</div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-2">&nbsp;</div>
                <div class="col-sm-5">
                    <div class="checkbox">
                        <label>
                            <input type="checkbox" [(ngModel)]="model.includeDir"> Inclure ou exclure les patterns suivant.
                        </label>
                    </div>
                </div>
                <div class="col-sm-5">
                    <button type="button" class="btn btn-default" (click)="addPattern()">Ajouter un pattern</button>
                </div>
            </div>
            <div class="form-group" *ngFor="let pattern of model.includeExcludePatterns;let i = index">
                <div class="col-sm-2">&nbsp;</div>
                <div class="col-sm-10">
                    <div class="input-group">
                        <input type="text" class="form-control" [value]="pattern" (input)="chgPattern(i, $event)" />
                        <div class="input-group-addon"><span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span></div>
                    </div>
                </div>
            </div>
            <br/>
            <div class="form-group">
                <div class="col-sm-9">&nbsp;</div>
                <div class="col-sm-3">
                    <button type="submit" class="btn btn-primary" [disabled]="!synchroForm.valid">Sauvegarder</button>
                </div>
            </div>

            <!--&lt;!&ndash;<sfc-input label="Mon Label" require-msg="* Obligatoire" placeholder="Placeholder Label"></sfc-input>&ndash;&gt;-->
        </form>

        <br/>
    </div>
</div>